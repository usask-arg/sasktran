<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SASKTRAN-HR &mdash; SASKTRAN 0+untagged.1.ga219ace documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/_static/theme_overrides.css" type="text/css" />
    <link rel="shortcut icon" href="_static/sasktran-favicon.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="SASKTRAN Thermal InfraRed Engine" href="tir/index.html" />
    <link rel="prev" title="Changelog" href="changelog.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/sasktran-light.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0+untagged.1.ga219ace
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="installing.html">Installing SASKTRAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="constructing_atmosphere.html">Specifying the Atmosphere</a></li>
<li class="toctree-l1"><a class="reference internal" href="constructing_geometry.html">Constructing the Geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="other_engines.html">Choosing an Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_aerosol.html">Specifying Aerosol</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="experimental.html">Experimental Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">SASKTRAN-HR</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#polarization-in-sasktran-hr">Polarization in SASKTRAN-HR</a></li>
<li class="toctree-l2"><a class="reference internal" href="#commonly-used-options">Commonly Used Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sasktran.EngineHR.num_orders_of_scatter"><code class="docutils literal notranslate"><span class="pre">EngineHR.num_orders_of_scatter</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sasktran.EngineHR.grid_spacing"><code class="docutils literal notranslate"><span class="pre">EngineHR.grid_spacing</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sasktran.EngineHR.surface_elevation"><code class="docutils literal notranslate"><span class="pre">EngineHR.surface_elevation</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sasktran.EngineHR.top_of_atmosphere_altitude"><code class="docutils literal notranslate"><span class="pre">EngineHR.top_of_atmosphere_altitude</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sasktran.EngineHR.num_threads"><code class="docutils literal notranslate"><span class="pre">EngineHR.num_threads</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sasktran.EngineHR.polarization"><code class="docutils literal notranslate"><span class="pre">EngineHR.polarization</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-configuration">Advanced Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sasktran.EngineHR.include_emissions"><code class="docutils literal notranslate"><span class="pre">EngineHR.include_emissions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sasktran.EngineHR.atmosphere_dimensions"><code class="docutils literal notranslate"><span class="pre">EngineHR.atmosphere_dimensions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sasktran.EngineHR.refraction"><code class="docutils literal notranslate"><span class="pre">EngineHR.refraction</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-accuracy-performance">Advanced Accuracy/Performance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sasktran.EngineHR.num_diffuse_profiles"><code class="docutils literal notranslate"><span class="pre">EngineHR.num_diffuse_profiles</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#experimental-settings">Experimental Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sasktran.EngineHR.disable_los_single_scattering"><code class="docutils literal notranslate"><span class="pre">EngineHR.disable_los_single_scattering</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tir/index.html">SASKTRAN Thermal InfraRed Engine</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SASKTRAN</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">SASKTRAN-HR</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/sasktran_hr.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="sasktran-hr">
<span id="id1"></span><h1>SASKTRAN-HR<a class="headerlink" href="#sasktran-hr" title="Permalink to this heading">¶</a></h1>
<p>Sasktran HR is the recommended default radiative transfer model that is primarily designed for limb viewing applications.</p>
<section id="polarization-in-sasktran-hr">
<h2>Polarization in SASKTRAN-HR<a class="headerlink" href="#polarization-in-sasktran-hr" title="Permalink to this heading">¶</a></h2>
<p>SASKTRAN-HR is capable of calculation the full Stokes vector.  This option is controlled by setting
two different things.  The internal model calculation mode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sasktran</span> <span class="k">as</span> <span class="nn">sk</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">sk</span><span class="o">.</span><span class="n">EngineHR</span><span class="p">()</span>

<span class="n">engine</span><span class="o">.</span><span class="n">polarization</span> <span class="o">=</span> <span class="s1">&#39;vector&#39;</span>
</pre></div>
</div>
<p>In this mode all calculations will be done considering polarization, however the output will still be a single intensity element.
To obtain the full Stokes vector you must pass the <cite>full_stokes_vector=True</cite> when calculating the radiance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stokes</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">calculate_radiance</span><span class="p">(</span><span class="n">full_stokes_vector</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="examples/hr_examples.html#hr-examples"><span class="std std-ref">SASKTRAN-HR Examples</span></a> for examples of usage.</p>
</section>
<section id="commonly-used-options">
<h2>Commonly Used Options<a class="headerlink" href="#commonly-used-options" title="Permalink to this heading">¶</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py" id="sasktran.EngineHR.num_orders_of_scatter">
<span class="sig-prename descclassname"><span class="pre">EngineHR.</span></span><span class="sig-name descname"><span class="pre">num_orders_of_scatter</span></span><a class="headerlink" href="#sasktran.EngineHR.num_orders_of_scatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Controls the number of orders of scatter used inside the model. The number of orders of scatter controls the
accuracy of the model.  When set to 1, only light directly scattered from the sun is accounted for, with no
multiple scattering.</p>
<p>The model runs substantially faster when set
to 1 scatter order, therefore a common use case is to do development/testing with this property set to 1.  There
is very little speed difference between 2 orders of scatter and 50 orders of scatter, so usually it is
recommended to set this to either 1 or 50.</p>
<p><strong>Default:</strong> 50</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sasktran.EngineHR.grid_spacing">
<span class="sig-prename descclassname"><span class="pre">EngineHR.</span></span><span class="sig-name descname"><span class="pre">grid_spacing</span></span><a class="headerlink" href="#sasktran.EngineHR.grid_spacing" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets many options dealing with general grids and discretizations in the model.  In general, if you are interested
in things on the scale of 1000 m, then set this to 1000 m.  For most applications setting this property is
sufficient, however for advanced users it may be necessary to set some grids individually.</p>
<p><strong>Default:</strong> 1000 m</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sasktran.EngineHR.surface_elevation">
<span class="sig-prename descclassname"><span class="pre">EngineHR.</span></span><span class="sig-name descname"><span class="pre">surface_elevation</span></span><a class="headerlink" href="#sasktran.EngineHR.surface_elevation" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the elevation of the surface in [m] for the model.  This setting can be used to account for changes in the Earth’s
topography.</p>
<p><strong>Default:</strong> 0 m</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sasktran.EngineHR.top_of_atmosphere_altitude">
<span class="sig-prename descclassname"><span class="pre">EngineHR.</span></span><span class="sig-name descname"><span class="pre">top_of_atmosphere_altitude</span></span><a class="headerlink" href="#sasktran.EngineHR.top_of_atmosphere_altitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the altitude of the top of the atmosphere.  Above this altitude it is assumed there is no atmosphere.
The default value of 100000 m is typically suitable for stratospheric applications but for the mesosphere it
is sometimes necessary to increase this value.</p>
<p><strong>Default:</strong> 100000 m</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sasktran.EngineHR.num_threads">
<span class="sig-prename descclassname"><span class="pre">EngineHR.</span></span><span class="sig-name descname"><span class="pre">num_threads</span></span><a class="headerlink" href="#sasktran.EngineHR.num_threads" title="Permalink to this definition">¶</a></dt>
<dd><p>Controls the number of threads to use when multithreading the radiative transfer calculation.  The default value
of 0 indicates that the number of threads used will be equal to the number of available logical cores on
the target machine.</p>
<p>Setting this value to a lower number than the number of available cores can be useful when running a radiative
transfer calculation in the background and the computer is too slow to multitask.</p>
<p><strong>Default:</strong> 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sasktran.EngineHR.polarization">
<span class="sig-prename descclassname"><span class="pre">EngineHR.</span></span><span class="sig-name descname"><span class="pre">polarization</span></span><a class="headerlink" href="#sasktran.EngineHR.polarization" title="Permalink to this definition">¶</a></dt>
<dd><p>The polarization mode of the model.  Can either be set to ‘scalar’ or ‘vector’.</p>
<p><strong>Default:</strong> ‘scalar’</p>
</dd></dl>

</section>
<section id="advanced-configuration">
<h2>Advanced Configuration<a class="headerlink" href="#advanced-configuration" title="Permalink to this heading">¶</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py" id="sasktran.EngineHR.include_emissions">
<span class="sig-prename descclassname"><span class="pre">EngineHR.</span></span><span class="sig-name descname"><span class="pre">include_emissions</span></span><a class="headerlink" href="#sasktran.EngineHR.include_emissions" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables support for atmospheric emissions inside the model.  If set to True, any <a class="reference internal" href="emission.html#sasktran.Emission" title="sasktran.Emission"><code class="xref py py-class docutils literal notranslate"><span class="pre">Emission</span></code></a>
objects that are included in the <a class="reference internal" href="atmosphere.html#sasktran.Atmosphere" title="sasktran.Atmosphere"><code class="xref py py-class docutils literal notranslate"><span class="pre">Atmosphere</span></code></a> will be used in the radiative
transfer calculation.  Note that the default value is False, ignoring emissions.</p>
<p><strong>Default:</strong> False</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sasktran.EngineHR.atmosphere_dimensions">
<span class="sig-prename descclassname"><span class="pre">EngineHR.</span></span><span class="sig-name descname"><span class="pre">atmosphere_dimensions</span></span><a class="headerlink" href="#sasktran.EngineHR.atmosphere_dimensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the number of dimensions for the atmosphere in the radiative transfer calculation.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head"><p>Setting</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>One-dimensional in altitude</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Two-dimensional in altitude and angle
along the line of sight</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>Fully three-dimensional</p></td>
</tr>
</tbody>
</table>
<p><strong>Default:</strong> 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sasktran.EngineHR.refraction">
<span class="sig-prename descclassname"><span class="pre">EngineHR.</span></span><span class="sig-name descname"><span class="pre">refraction</span></span><a class="headerlink" href="#sasktran.EngineHR.refraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines whether or not refraction effects should be included in the radiative transfer calculation.
If set to true, then refraction effects will be considered where the model supports it.  Currently this is
only available for the observer line of sight rays (solar rays and multiple scattering will not account
for refraction).</p>
<p>Note that refraction support is experimental and may have some side effects.  Currently known limitations
are that the surface_elevation and top_of_atmosphere_altitudeproperty may not work properly with refraction
enabled.</p>
<p>Enabling refraction also changes the ray tracer slightly, meaning that calculations with and without refraction
enabled may differ slightly due to integration accuracies/quadrature points, etc.  It is recommended to
experiment with the grid_spacing property to ensure that the calculation is done with enough precision.</p>
<p><strong>Default:</strong> false</p>
</dd></dl>

</section>
<section id="advanced-accuracy-performance">
<h2>Advanced Accuracy/Performance<a class="headerlink" href="#advanced-accuracy-performance" title="Permalink to this heading">¶</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py" id="sasktran.EngineHR.num_diffuse_profiles">
<span class="sig-prename descclassname"><span class="pre">EngineHR.</span></span><span class="sig-name descname"><span class="pre">num_diffuse_profiles</span></span><a class="headerlink" href="#sasktran.EngineHR.num_diffuse_profiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Advanced option that controls the number of diffuse profiles in the model.  If worried about the accuracy
of the multiple scatter signal, this should be the first option to try changing.  A diffuse profile
represents a (latitude, longitude) where the multiple scatter signal is calculated.  The default value of 1
indicates that the multiple scatter signal is only calculated at the reference point, or the average tangent
point.  If you increase the value to 5, then there will be 5 locations along the line of sight where the full
multiple scatter calculation is done.  Outside of these areas the multiple scatter signal is interpolated. Odd
numbers of diffuse profiles are preferred (but not necessary) since this facilitates one profile being placed
at the tangent point.</p>
<p>To determine if this setting has an effect on your calculation it is recommended to first compare the results
between 1, 5, and 11 diffuse profiles.</p>
<p>The amount of diffuse profiles to obtain an accurate depends heavily on a variety of things, but most heavily
the solar zenith and solar scattering angles.  When the sun is high in the sky (low solar zenith angle) 1–3
diffuse profiles is usually sufficient.  However, when looking across the solar terminator (sza ~90, ssa &lt; 90)
it might be necessary to use upwards of 50 diffuse profiles to obtain a signal accurate to better than 0.5%.
More information on the number of required diffuse profiles can be found in
Zawada, D. J., Dueck, S. R., Rieger, L. A., Bourassa, A. E., Lloyd, N. D., and Degenstein, D. A.: High-resolution and Monte Carlo additions to the SASKTRAN radiative transfer model, Atmos. Meas. Tech., 8, 2609-2623, <a class="reference external" href="https://doi.org/10.5194/amt-8-2609-2015">https://doi.org/10.5194/amt-8-2609-2015</a>, 2015.</p>
</dd></dl>

</section>
<section id="experimental-settings">
<h2>Experimental Settings<a class="headerlink" href="#experimental-settings" title="Permalink to this heading">¶</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py" id="sasktran.EngineHR.disable_los_single_scattering">
<span class="sig-prename descclassname"><span class="pre">EngineHR.</span></span><span class="sig-name descname"><span class="pre">disable_los_single_scattering</span></span><a class="headerlink" href="#sasktran.EngineHR.disable_los_single_scattering" title="Permalink to this definition">¶</a></dt>
<dd><p>Experimental option.  If set to true, then single scattering along the line of sight is not calculated.
Note that single scatter from the ground is still included if the line of sight intersects the Earth.
Default: False.</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="changelog.html" class="btn btn-neutral float-left" title="Changelog" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tir/index.html" class="btn btn-neutral float-right" title="SASKTRAN Thermal InfraRed Engine" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, ARG University of Saskatchewan.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>