<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Weighting Functions &mdash; SASKTRAN 0+untagged.1.g96c3b1d documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/_static/theme_overrides.css" type="text/css" />
    <link rel="shortcut icon" href="_static/sasktran-favicon.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Advanced Topics" href="advanced.html" />
    <link rel="prev" title="Stokes Vector" href="stokes_vector.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/sasktran-light.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0+untagged.1.g96c3b1d
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installing.html">Installing SASKTRAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="constructing_atmosphere.html">Specifying the Atmosphere</a></li>
<li class="toctree-l1"><a class="reference internal" href="constructing_geometry.html">Constructing the Geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="other_engines.html">Choosing an Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_aerosol.html">Specifying Aerosol</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="api_reference.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="api_reference.html#complete-api-reference-pages">Complete API Reference Pages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="atmosphere.html">Atmosphere</a></li>
<li class="toctree-l3"><a class="reference internal" href="brdf.html">BRDF</a></li>
<li class="toctree-l3"><a class="reference internal" href="climatology.html">Climatology</a></li>
<li class="toctree-l3"><a class="reference internal" href="engine.html">Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="geodetic.html">Geodetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="geometry.html">Geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="lines_of_sight.html">Lines of Sight</a></li>
<li class="toctree-l3"><a class="reference internal" href="optical_property.html">Optical Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="emission.html">Emission</a></li>
<li class="toctree-l3"><a class="reference internal" href="solar_spectrum.html">Solar Spectrum</a></li>
<li class="toctree-l3"><a class="reference internal" href="species.html">Species</a></li>
<li class="toctree-l3"><a class="reference internal" href="stokes_vector.html">Stokes Vector</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Weighting Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#weighting-function-altitudes">Weighting Function Altitudes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#weighting-function-widths">Weighting Function Widths</a></li>
<li class="toctree-l4"><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api_reference.html#additional-topics">Additional Topics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="experimental.html">Experimental Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sasktran_hr.html">SASKTRAN-HR</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SASKTRAN</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="api_reference.html">API Reference</a></li>
      <li class="breadcrumb-item active">Weighting Functions</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/weighting_functions.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="weighting-functions">
<span id="id1"></span><h1>Weighting Functions<a class="headerlink" href="#weighting-functions" title="Permalink to this heading">¶</a></h1>
<p>In the SASKTRAN framework, weighting functions are returned in the form:</p>
<div class="math notranslate nohighlight">
\[\mathrm{wf[i, j, k]} = \frac{\partial I(\lambda_\mathrm{i}, \mathrm{L_j})}{\partial
\mathrm{S_k}}\]</div>
<p>where</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Symbol</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\lambda_\mathrm{i}\)</span></p></td>
<td><p>Wavelength <span class="math notranslate nohighlight">\(\mathrm{i}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\mathrm{L_\mathrm{j}}\)</span></p></td>
<td><p>Line of sight <span class="math notranslate nohighlight">\(\mathrm{j}\)</span></p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\mathrm{S_\mathrm{k}}\)</span></p></td>
<td><p>Species at altitude <span class="math notranslate nohighlight">\(\mathrm{k}\)</span></p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Some engines might support additional forms but by default must return the form given above. To
calculate weighting functions the <a class="reference internal" href="atmosphere.html#sasktran.Atmosphere.wf_species" title="sasktran.Atmosphere.wf_species"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sasktran.Atmosphere.wf_species</span></code></a> must be set.</p>
<section id="weighting-function-altitudes">
<h2>Weighting Function Altitudes<a class="headerlink" href="#weighting-function-altitudes" title="Permalink to this heading">¶</a></h2>
<p>This is fairly self explanatory; weighting functions are calculated at specific altitudes. These
altitudes are usually set via an engine option.</p>
</section>
<section id="weighting-function-widths">
<h2>Weighting Function Widths<a class="headerlink" href="#weighting-function-widths" title="Permalink to this heading">¶</a></h2>
<p>In multiple <a class="reference internal" href="engine.html#engine"><span class="std std-ref">Engine</span></a>’s the concept of weighting function widths is important.</p>
<figure class="align-center" id="id2" style="width: 50%">
<img alt="_images/wf_equiv_fd.svg" src="_images/wf_equiv_fd.svg" /><figcaption>
<p><span class="caption-text">Visual of what is meant by the weighting function altitude, and width for an equivalent
finite difference weighting function calculation.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>Weighting function widths refer to the region (around a weighting function altitude) in which a
perturbation is applied. A different way of say this is that the width refers to equivalent
region a finite difference method would need to perturb the species of interest to obtain
the same result. It should be noted that the equivalent perturbation would be linearly
interpolated from 0 at the region boundaries to the magnitude of the perturbation at the
weighting function altitude. Below is an illustration to clarify.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The user should take special care when setting the weighting function widths and altitudes.
Note that the altitudes specify the center points and the widths specify the boundaries.
Special care must be taken to ensure that the perturbation region does not extend above or below
the top of the atmosphere (TOA) or surface respectively.</p>
</div>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h2>
<dl class="simple">
<dt><a class="reference internal" href="engine.html#engine"><span class="std std-ref">Engine</span></a></dt><dd><p>Objects that can calculate radiances. Additionally some engines can calculate analytic or
optimized <a class="reference internal" href="#weighting-functions"><span class="std std-ref">Weighting Functions</span></a>.</p>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="stokes_vector.html" class="btn btn-neutral float-left" title="Stokes Vector" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="advanced.html" class="btn btn-neutral float-right" title="Advanced Topics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, ARG University of Saskatchewan.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>