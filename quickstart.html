<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quickstart Guide &mdash; SASKTRAN 1.8.4 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b76e3c8a" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/_static/theme_overrides.css" />

  
    <link rel="shortcut icon" href="_static/sasktran-favicon.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/documentation_options.js?v=496f73d5"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Specifying the Atmosphere" href="constructing_atmosphere.html" />
    <link rel="prev" title="Installing SASKTRAN" href="installing.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/sasktran-light.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.8.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installing.html">Installing SASKTRAN</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quickstart Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#defining-the-geometry">Defining the Geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="#representing-the-atmosphere">Representing the Atmosphere</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setting-up-the-engine">Setting up the Engine</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="constructing_atmosphere.html">Specifying the Atmosphere</a></li>
<li class="toctree-l1"><a class="reference internal" href="constructing_geometry.html">Constructing the Geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="other_engines.html">Choosing an Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_aerosol.html">Specifying Aerosol</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="experimental.html">Experimental Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sasktran_hr.html">SASKTRAN-HR</a></li>
<li class="toctree-l1"><a class="reference internal" href="tir/index.html">SASKTRAN Thermal InfraRed Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="do/index.html">SASKTRAN-DO</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SASKTRAN</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Quickstart Guide</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/quickstart.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="quickstart-guide">
<span id="quickstart"></span><h1>Quickstart Guide<a class="headerlink" href="#quickstart-guide" title="Link to this heading">¶</a></h1>
<p>Performing a calculation with <code class="docutils literal notranslate"><span class="pre">sasktran</span></code> can be broken up into three steps:</p>
<ul class="simple">
<li><p>Defining the geometry of the problem.  Typically this boils down to calculating an observer location,
a look vector, and a timestamp for the measurements.  <code class="docutils literal notranslate"><span class="pre">sasktran</span></code> contains several tools to aid with this computation.</p></li>
<li><p>Creating a representation of the atmospheric state for the calculation.</p></li>
<li><p>Choosing a radiative transfer model and setting it up for the calculation.</p></li>
</ul>
<section id="defining-the-geometry">
<h2>Defining the Geometry<a class="headerlink" href="#defining-the-geometry" title="Link to this heading">¶</a></h2>
<p>The raw input to <code class="docutils literal notranslate"><span class="pre">sasktran</span></code> for each measurement is the observer location, a unit look vector, and a timestamp
represented with a Modified Julian Date.  If you already have these things, excellent, we can directly create a
<a class="reference internal" href="geometry.html#sasktran.Geometry" title="sasktran.Geometry"><code class="xref py py-class docutils literal notranslate"><span class="pre">sasktran.Geometry</span></code></a> object,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sasktran</span> <span class="k">as</span> <span class="nn">sk</span>

<span class="n">geometry</span> <span class="o">=</span> <span class="n">sk</span><span class="o">.</span><span class="n">Geometry</span><span class="p">()</span>

<span class="n">los_1</span> <span class="o">=</span> <span class="n">sk</span><span class="o">.</span><span class="n">LineOfSight</span><span class="p">(</span><span class="n">observer</span><span class="o">=</span><span class="p">[</span><span class="mf">3.676013154788849600e+005</span><span class="p">,</span> <span class="mf">1.009976313640051500e+006</span><span class="p">,</span> <span class="o">-</span><span class="mf">6.871601202127538600e+006</span><span class="p">],</span>
                       <span class="n">look_vector</span><span class="o">=</span><span class="p">[</span><span class="mf">2.884568631765662100e-001</span><span class="p">,</span> <span class="mf">7.925287180643269000e-001</span><span class="p">,</span>  <span class="mf">5.372996083468238900e-001</span><span class="p">],</span>
                       <span class="n">mjd</span><span class="o">=</span><span class="mf">54832.5</span><span class="p">)</span>
<span class="n">los_2</span> <span class="o">=</span> <span class="n">sk</span><span class="o">.</span><span class="n">LineOfSight</span><span class="p">(</span><span class="n">observer</span><span class="o">=</span><span class="p">[</span><span class="mf">3.692808540679614500e+005</span><span class="p">,</span> <span class="mf">1.014590807988641800e+006</span><span class="p">,</span> <span class="o">-</span><span class="mf">6.870844156040793300e+006</span><span class="p">],</span>
                       <span class="n">look_vector</span><span class="o">=</span><span class="p">[</span><span class="mf">2.884568631765662100e-001</span><span class="p">,</span> <span class="mf">7.925287180643269000e-001</span><span class="p">,</span>  <span class="mf">5.372996083468238900e-001</span><span class="p">],</span>
                       <span class="n">mjd</span><span class="o">=</span><span class="mf">54832.5</span><span class="p">)</span>

<span class="n">geometry</span><span class="o">.</span><span class="n">lines_of_sight</span> <span class="o">=</span> <span class="p">[</span><span class="n">los_1</span><span class="p">,</span> <span class="n">los_2</span><span class="p">]</span>
</pre></div>
</div>
<p>If you want to define the geometry based on solar angles, there are several convenience methods that can help:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sasktran.geometry</span> <span class="kn">import</span> <span class="n">VerticalImage</span>

<span class="n">geometry</span> <span class="o">=</span> <span class="n">VerticalImage</span><span class="p">()</span>
<span class="n">geometry</span><span class="o">.</span><span class="n">from_sza_saa</span><span class="p">(</span><span class="n">sza</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">saa</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">lat</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">lon</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">tanalts_km</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">],</span> <span class="n">mjd</span><span class="o">=</span><span class="mi">54372</span><span class="p">,</span> <span class="n">locallook</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                      <span class="n">satalt_km</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">refalt_km</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
<p>Nadir viewing geometries can also be configured in a similar way:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sasktran.geometry</span> <span class="kn">import</span> <span class="n">NadirGeometry</span>

<span class="n">geometry</span> <span class="o">=</span> <span class="n">NadirGeometry</span><span class="p">()</span>
<span class="n">geometry</span><span class="o">.</span><span class="n">from_zeniths_and_azimuths</span><span class="p">(</span><span class="n">solar_zenith</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">solar_azimuth</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">observer_mjds</span><span class="o">=</span><span class="p">[</span><span class="mi">54372</span><span class="p">],</span> <span class="n">observer_zeniths</span><span class="o">=</span><span class="p">[</span><span class="mi">90</span><span class="p">],</span> <span class="n">observer_azimuths</span><span class="o">=</span><span class="p">[</span><span class="mi">60</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="representing-the-atmosphere">
<h2>Representing the Atmosphere<a class="headerlink" href="#representing-the-atmosphere" title="Link to this heading">¶</a></h2>
<p>Each atmospheric constituent is represented by two things:</p>
<ul class="simple">
<li><p>A climatology which specifies the amount and distribution of the constituent, the class <a class="reference internal" href="climatology.html#sasktran.Climatology" title="sasktran.Climatology"><code class="xref py py-class docutils literal notranslate"><span class="pre">sasktran.Climatology</span></code></a>
helps here.  All climatologies are specified with respect to particle number density in units of /cm3</p></li>
<li><p>An optical property of type <a class="reference internal" href="optical_property.html#sasktran.OpticalProperty" title="sasktran.OpticalProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">sasktran.OpticalProperty</span></code></a> which defines the species cross sections.</p></li>
</ul>
<p>The <a class="reference internal" href="atmosphere.html#sasktran.Atmosphere" title="sasktran.Atmosphere"><code class="xref py py-class docutils literal notranslate"><span class="pre">sasktran.Atmosphere</span></code></a> combines these things together for multiple species to make up the full atmospheric
state.  Many precomputed climatologies and optical properties are avaialable, or you can define your own.  But for now
let’s create an atmosphere consisting of Rayleigh scattering and ozone absorption with precomputed climatologies:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sasktran</span> <span class="k">as</span> <span class="nn">sk</span>

<span class="n">atmosphere</span> <span class="o">=</span> <span class="n">sk</span><span class="o">.</span><span class="n">Atmosphere</span><span class="p">()</span>

<span class="n">atmosphere</span><span class="p">[</span><span class="s1">&#39;ozone&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sk</span><span class="o">.</span><span class="n">Species</span><span class="p">(</span><span class="n">sk</span><span class="o">.</span><span class="n">O3OSIRISRes</span><span class="p">(),</span> <span class="n">sk</span><span class="o">.</span><span class="n">Labow</span><span class="p">())</span>
<span class="n">atmosphere</span><span class="p">[</span><span class="s1">&#39;air&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sk</span><span class="o">.</span><span class="n">Species</span><span class="p">(</span><span class="n">sk</span><span class="o">.</span><span class="n">Rayleigh</span><span class="p">(),</span> <span class="n">sk</span><span class="o">.</span><span class="n">MSIS90</span><span class="p">())</span>
</pre></div>
</div>
</section>
<section id="setting-up-the-engine">
<h2>Setting up the Engine<a class="headerlink" href="#setting-up-the-engine" title="Link to this heading">¶</a></h2>
<p>The final step is creating the <a class="reference internal" href="engine.html#sasktran.Engine" title="sasktran.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">sasktran.Engine</span></code></a> object which actually performs the radiative transfer
calculation.  <cite>sasktran</cite> contains multiple radiative transfer models, but for most standard applications it is
recommended to use the <code class="docutils literal notranslate"><span class="pre">hr</span></code> engine which is suitable for all viewing geometries in the UV-VIS-NIR spectral regime:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sasktran</span> <span class="k">as</span> <span class="nn">sk</span>
<span class="kn">from</span> <span class="nn">sasktran.geometry</span> <span class="kn">import</span> <span class="n">VerticalImage</span>

<span class="c1"># First recreate our geometry and atmosphere classes</span>
<span class="n">geometry</span> <span class="o">=</span> <span class="n">VerticalImage</span><span class="p">()</span>
<span class="n">geometry</span><span class="o">.</span><span class="n">from_sza_saa</span><span class="p">(</span><span class="n">sza</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">saa</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">lat</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">lon</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">tanalts_km</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">],</span> <span class="n">mjd</span><span class="o">=</span><span class="mi">54372</span><span class="p">,</span> <span class="n">locallook</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                      <span class="n">satalt_km</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">refalt_km</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="n">atmosphere</span> <span class="o">=</span> <span class="n">sk</span><span class="o">.</span><span class="n">Atmosphere</span><span class="p">()</span>

<span class="n">atmosphere</span><span class="p">[</span><span class="s1">&#39;ozone&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sk</span><span class="o">.</span><span class="n">Species</span><span class="p">(</span><span class="n">sk</span><span class="o">.</span><span class="n">O3OSIRISRes</span><span class="p">(),</span> <span class="n">sk</span><span class="o">.</span><span class="n">Labow</span><span class="p">())</span>
<span class="n">atmosphere</span><span class="p">[</span><span class="s1">&#39;air&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sk</span><span class="o">.</span><span class="n">Species</span><span class="p">(</span><span class="n">sk</span><span class="o">.</span><span class="n">Rayleigh</span><span class="p">(),</span> <span class="n">sk</span><span class="o">.</span><span class="n">MSIS90</span><span class="p">())</span>

<span class="c1"># And now make the engine</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">sk</span><span class="o">.</span><span class="n">EngineHR</span><span class="p">(</span><span class="n">geometry</span><span class="o">=</span><span class="n">geometry</span><span class="p">,</span> <span class="n">atmosphere</span><span class="o">=</span><span class="n">atmosphere</span><span class="p">)</span>

<span class="c1"># Choose some wavelengths to do the calculation at</span>
<span class="n">engine</span><span class="o">.</span><span class="n">wavelengths</span> <span class="o">=</span> <span class="p">[</span><span class="mi">340</span><span class="p">,</span> <span class="mi">600</span><span class="p">]</span>

<span class="c1"># And do the calculation</span>
<span class="n">radiance</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">calculate_radiance</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installing.html" class="btn btn-neutral float-left" title="Installing SASKTRAN" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="constructing_atmosphere.html" class="btn btn-neutral float-right" title="Specifying the Atmosphere" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, ARG University of Saskatchewan.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>